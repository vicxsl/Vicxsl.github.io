(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{622:function(s,t,a){"use strict";a.r(t);var e=a(16),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"集成云开发-cloudbase-framework-框架「function」插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集成云开发-cloudbase-framework-框架「function」插件"}},[s._v("#")]),s._v(" 集成云开发 CloudBase Framework 框架「Function」插件")]),s._v(" "),a("blockquote",[a("p",[s._v("当前博客托管在GitHub Pages服务，受网络环境因素影响，访问不稳定，速度慢。")]),s._v(" "),a("p",[s._v("集成腾讯云开发环境，实现一键部署，自动部署博客静态资源到腾讯云静态网站。")]),s._v(" "),a("p",[a("strong",[s._v("云开发 CloudBase Framework 框架「Function」插件")]),s._v("： 通过云开发 **"),a("a",{attrs:{href:"https://github.com/Tencent/cloudbase-framework",target:"_blank",rel:"noopener noreferrer"}},[s._v("CloudBase Framework (opens new window)"),a("OutboundLink")],1),s._v("**框架将静态网站一键部署云开发环境，提供生产环境可用的 CDN 加速、自动弹性伸缩的高性能网站服务。可以搭配其他插件如 Node 插件、函数插件实现云端一体开发。")])]),s._v(" "),a("h2",{attrs:{id:"功能特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能特性"}},[s._v("#")]),s._v(" 功能特性")]),s._v(" "),a("ul",[a("li",[s._v("节约成本: 资源伸缩，弹性扩缩容，灵活计费，极大节约资源成本")]),s._v(" "),a("li",[s._v("极简配置：自动检测框架，无须配置，同时支持没有使用框架的纯静态项目")]),s._v(" "),a("li",[s._v("框架支持: 无缝支持原生和前端框架构建的项目\n"),a("ul",[a("li",[a("code",[s._v("Vue")])]),s._v(" "),a("li",[a("code",[s._v("React")])]),s._v(" "),a("li",[a("code",[s._v("Next SPA")])]),s._v(" "),a("li",[a("code",[s._v("Nuxt SPA")])]),s._v(" "),a("li",[a("code",[s._v("VuePress")])])])])]),s._v(" "),a("h2",{attrs:{id:"使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[s._v("#")]),s._v(" 使用方法")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("官方文档")]),s._v("：https://docs.cloudbase.net/cli-v1/intro.html")])]),s._v(" "),a("p",[s._v("在所有开始之前，您需要登录 "),a("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/env/index?action=CreateEnv&from=cli",target:"_blank",rel:"noopener noreferrer"}},[s._v("腾讯云 - 云开发控制台 (opens new window)"),a("OutboundLink")],1),s._v("，确保已经开通了云开发服务，并且创建了按量付费环境。")]),s._v(" "),a("h3",{attrs:{id:"步骤一-准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤一-准备工作"}},[s._v("#")]),s._v(" 步骤一. 准备工作")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("安装 CloudBase CLI")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g @cloudbase/cli@latest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"步骤二-初始化插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤二-初始化插件"}},[s._v("#")]),s._v(" 步骤二. 初始化插件")]),s._v(" "),a("p",[s._v("进入网站项目文件目录，执行命令行")]),s._v(" "),a("p",[s._v("如果目前已有网站应用项目")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("cloudbase\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果想全新开始一个项目，可以直接执行 init 来从模板开始一个网站项目")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("cloudbase init\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"步骤四-cli配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤四-cli配置"}},[s._v("#")]),s._v(" 步骤四.CLI配置")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("使用该 CLI 是需要进行登录的，如果 CLI 检测到你当前没有登录的话会自动打开浏览器跳转到腾讯云登录页面，登录成功后返回命令行。")])]),s._v(" "),a("li",[a("p",[s._v("继续下一步操作，选择一个合适的服务器地点")])]),s._v(" "),a("li",[a("p",[s._v("接下来选择关联环境，如果当前没有的话可会提示选择"),a("code",[s._v("创建新环境")]),s._v("。")]),s._v(" "),a("p",[s._v("创建新环境地址：https://console.cloud.tencent.com/tcb/env/index?rid=4&from=cli&action=CreateEnv")])]),s._v(" "),a("li",[a("p",[s._v("这里选择使用VuePress模板进行创建，开通环境，完成后开始初始化环境")])]),s._v(" "),a("li",[a("p",[s._v("创建成功环境后返回命令行，创建成功后会提示生成对应配置的项目结构。")])])]),s._v(" "),a("h3",{attrs:{id:"步骤五-一键部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤五-一键部署"}},[s._v("#")]),s._v(" 步骤五. 一键部署")]),s._v(" "),a("p",[s._v("后续重新部署环境只需要执行一键部署指令")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("cloudbase framework deploy\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("![img](E:\\WebstormProjects\\vicxsl.github.io\\docs\\03.技术\\04.博客搭建\\集成云开发 CloudBase Framework 框架「Function」插件.assets\\68747470733a2f2f363637382d66782d313235393732373730312e7463622e71636c6f75642e6c612f657a6769662d342d6565373934303963383636352e676966)")]),s._v(" "),a("h2",{attrs:{id:"部署成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署成功"}},[s._v("#")]),s._v(" 部署成功")]),s._v(" "),a("p",[s._v("![image-20210624015501202](E:\\WebstormProjects\\vicxsl.github.io\\docs\\03.技术\\04.博客搭建\\集成云开发 CloudBase Framework 框架「Function」插件.assets\\image-20210624015501202.png)")]),s._v(" "),a("p",[s._v("自动分配了网站入口域名：https://blog-4groexxn4c110ef5-1305981473.tcloudbaseapp.com")]),s._v(" "),a("h3",{attrs:{id:"域名配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#域名配置"}},[s._v("#")]),s._v(" 域名配置")]),s._v(" "),a("p",[s._v("使用阿里云云解析功能，配置解析设置 papis.cn，添加一条URL解析记录，指向腾讯云自动分配的域名地址")]),s._v(" "),a("p",[s._v("![image-20210624020401734](05.集成云开发 CloudBase Framework 框架「Function」插件.assets/image-20210624020401734-1624471446933.png)")]),s._v(" "),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),a("h3",{attrs:{id:"配置示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置示例"}},[s._v("#")]),s._v(" 配置示例")]),s._v(" "),a("p",[a("code",[s._v("cloudbase init")]),s._v(" 之后会创建云开发的配置文件 "),a("code",[s._v("cloudbaserc.json")]),s._v("，可在配置文件的 plugins 里修改和写入插件配置")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"envId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{{envId}}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"framework"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"client"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"use"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@cloudbase/framework-plugin-website"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"inputs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"installCommand"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm install --prefer-offline --no-audit --progress=false"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"buildCommand"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run build"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"outputPath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cloudPath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/path"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"ignore"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".git"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".github"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node_modules"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cloudbaserc.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"修改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改配置"}},[s._v("#")]),s._v(" 修改配置")]),s._v(" "),a("p",[s._v("默认情况下不需要任何额外配置即可使用，以下配置参数针对有特殊需求的场景")]),s._v(" "),a("p",[s._v("这里修改静态文件输出路径")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"outputPath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docs/.vuepress/dist"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);